{%extends "layoutAdmin.html"%}
{%block content%}
<div class="content users-table">
    <div class="card card-default ">
    <div class="card-header align-items-center px-3 px-md-5">
      <h2>Usuarios</h2>

      <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal-add-contact"> Nuevo Usuario
      </button>
    </div>
    <div class="card-body ">
        <table id="usersTable" class="table table-hover " >
            <thead>
                <tr>
                    <th>ID</th>
                    <th>NOMBRE</th>
                    <th>USUARIO</th>
                    <th>AREA</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in Usuarios %}
                    <tr>
                        <td class="text-dark">{{usuario[0]}}</td>
                        <td class="text-dark">{{usuario[1]}}</td>
                        <td class="text-dark">{{usuario[2]}}</td>
                        <td class="text-dark">{{usuario[7]}}</td>
                        <td class="text-dark"><button class="btn-datos badge badge-primary" data-id="{{usuario[0]}}" data-name="{{usuario[1]}}" data-user="{{usuario[2]}}" data-email="{{usuario[4]}}" data-phone="{{usuario[5]}}" data-role="{{usuario[6]}}" data-area="{{usuario[7]}}"><i class="mdi mdi-account-edit"></i></button></td>
                        <td><button class="btn-eliminar-user badge badge-danger" data-id="{{usuario[0]}}"><i class="mdi mdi-delete"></i></button></td>
                    </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="modal-add-contact" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <form action="{{url_for('accounts')}}" method="post">

                <div class="modal-header px-4">
                    <h4>CREAR NUEVO USUARIO</h4>
                </div>
                <div class="modal-body px-4">
                    <div class="form-group row ">
                        <div class="col-md-12">
                            <label for="">Nombre Completo:</label>
                            <input type="text" class="form-control" name="name">
    
                        </div>
                    </div>
                    <div class="form-group row ">
                        <div class="col-md-6">
                            <label for="">Usuario:</label>
                            <input type="text" class="form-control" name="username">
                        </div>
                        <div class="col-md-6">
                            <label for="">Contraseña:</label>
                            <input type="password" name="password" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer px-4">
                    <button type="button" class="btn btn-smoke btn-pill" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary btn-pill">Agregar Usuario</button>
                </div>
            </form>

        </div>
    </div>
</div>

<div class="modal " id="modal-edit-user" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="card">
                <div class="card-header text-dark">
                    Editar Usuario
                </div>
                <div class="card-body">
                    <p>a continuación se mostraran los datos del usuario a editar, al finalizar presione guardar, si no desea hacerlo presione Cancelar</p>
                    <div hidden>
                        <label for="">id</label>
                        <input id="editId" type="text" name="id" value="">
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label for="">Nombre:</label>
                            <input id="editName" class="form-control" name="name" type="text" >
                            
                        </div>
                    </div>
                    <div class="row mb-3">
                        
                        <div class="col-md-6">
                            <label for="">Usuario:</label>
                            <input id="editUser" type="text" class="form-control" name="username" >
                        </div>
                        <div class="col-md-6">
                            <label for="">Correo:</label>
                            <input id="editEmail" type="email" class="form-control" name="email" >
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <label for="">Telefono:</label>
                            <input id="editPhone" type="text" class="form-control" name="phone" ">
                        </div>
                        <div class="col-md-4">
                            <label for="">Rol:</label>
                            <select name="role" id="editRole" class="select form-control">
                                <option value="USUARIO">Usuario</option>
                                <option value="ADMINISTRADOR">Administrador</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="">Area:</label>
                            <input id="editArea" type="text" name="area" class="form-control" ">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mb-2">
                            <button id="update-account-user"  class="form-control btn btn-sm btn-primary">ACTUALIZAR USUARIO</button>
                        </div>
                        <div class="col-md-12">
                            <button id="modal-editUser-close" class="form-control btn btn-sm btn-info" data-dismiss="modal">CANCELAR</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}